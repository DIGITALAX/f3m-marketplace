{"ast":null,"code":"var _jsxFileName = \"/Volumes/Data/Work/Digitalax/f3m-marketplace/src/containers/modals/make-offer/index.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { createPortal } from 'react-dom';\nimport Modal from '@components/modal';\nimport { closeMakeOfferModal, openOfferSucceeded } from '@actions/modals.actions';\nimport bidActions from '@actions/bid.actions';\nimport Loader from '@components/loader';\nimport { getModalParams } from '@selectors/modal.selectors';\nimport styles from './styles.module.scss';\n\nconst MakeOffer = () => {\n  _s();\n\n  const {\n    0: mona,\n    1: setMona\n  } = useState(0);\n  const {\n    id,\n    orderId,\n    tokenAddress\n  } = useSelector(getModalParams);\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(false);\n  const dispatch = useDispatch();\n\n  const handleClose = () => {\n    setMona(0);\n    dispatch(closeMakeOfferModal());\n  };\n\n  const handleSuccess = () => {\n    setMona(0);\n    dispatch(closeMakeOfferModal());\n    dispatch(openOfferSucceeded({\n      id: orderId,\n      contract: tokenAddress\n    }));\n  };\n\n  const handleMakeOffer = () => {\n    setLoading(true);\n    dispatch(bidActions.addSecondaryMarketplaceProduct(tokenAddress, id, parseFloat(mona), 0)).then(res => {\n      setLoading(false);\n      handleSuccess();\n    }).catch(e => {\n      console.log({\n        e\n      });\n      setLoading(false);\n      handleClose();\n      throw e;\n    });\n  };\n\n  return __jsx(React.Fragment, null, /*#__PURE__*/createPortal(__jsx(Modal, {\n    title: \"Make Offer\",\n    titleStyle: styles.textCenter,\n    onClose: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, loading && __jsx(Loader, {\n    active: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 23\n    }\n  }), __jsx(\"div\", {\n    className: styles.contentWraper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }\n  }, __jsx(\"p\", {\n    className: styles.description,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }, \"Make an offer on this item. If you want to own the item immediately, it\\u2019s best to buy instantly at the listed price. For all secondary sales there are allocations from the sale price of 3% to the DIGITALAX Treasury, 3% to DIGITALAX Token Stakers & 10% to the Original Designer.\"), __jsx(\"div\", {\n    className: styles.inputWrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, __jsx(\"input\", {\n    value: mona,\n    type: \"number\",\n    onChange: e => {\n      setMona(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 15\n    }\n  }), __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 15\n    }\n  }, \" $MONA \")), __jsx(\"button\", {\n    className: styles.button,\n    onClick: handleMakeOffer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, \"MAKE OFFER\"))), document.body));\n};\n\n_s(MakeOffer, \"tDz+HwF4MTUvBGlLIX1qDuE6tPU=\", false, function () {\n  return [useSelector, useDispatch];\n});\n\n_c = MakeOffer;\nexport default MakeOffer;\n\nvar _c;\n\n$RefreshReg$(_c, \"MakeOffer\");","map":{"version":3,"sources":["/Volumes/Data/Work/Digitalax/f3m-marketplace/src/containers/modals/make-offer/index.js"],"names":["React","useEffect","useState","useDispatch","useSelector","createPortal","Modal","closeMakeOfferModal","openOfferSucceeded","bidActions","Loader","getModalParams","styles","MakeOffer","mona","setMona","id","orderId","tokenAddress","loading","setLoading","dispatch","handleClose","handleSuccess","contract","handleMakeOffer","addSecondaryMarketplaceProduct","parseFloat","then","res","catch","e","console","log","textCenter","contentWraper","description","inputWrapper","target","value","button","document","body"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { createPortal } from 'react-dom';\nimport Modal from '@components/modal';\nimport { closeMakeOfferModal, openOfferSucceeded } from '@actions/modals.actions';\nimport bidActions from '@actions/bid.actions';\nimport Loader from '@components/loader';\nimport { getModalParams } from '@selectors/modal.selectors';\nimport styles from './styles.module.scss';\n\nconst MakeOffer = () => {\n  const [mona, setMona] = useState(0);\n  const { id, orderId, tokenAddress } = useSelector(getModalParams);\n  const [loading, setLoading] = useState(false);\n  const dispatch = useDispatch();\n  const handleClose = () => {\n    setMona(0);\n    dispatch(closeMakeOfferModal());\n  };\n\n  const handleSuccess = () => {\n    setMona(0);\n    dispatch(closeMakeOfferModal());\n    dispatch(\n      openOfferSucceeded({\n        id: orderId,\n        contract: tokenAddress,\n      }),\n    );\n  };\n\n  const handleMakeOffer = () => {\n    setLoading(true);\n    dispatch(bidActions.addSecondaryMarketplaceProduct(tokenAddress, id, parseFloat(mona), 0))\n      .then((res) => {\n        setLoading(false);\n        handleSuccess();\n      })\n      .catch((e) => {\n        console.log({ e });\n        setLoading(false);\n        handleClose();\n        throw e;\n      });\n  };\n\n  return (\n    <>\n      {createPortal(\n        <Modal title=\"Make Offer\" titleStyle={styles.textCenter} onClose={handleClose}>\n          {loading && <Loader active />}\n          <div className={styles.contentWraper}>\n            <p className={styles.description}>\n              Make an offer on this item. If you want to own the item immediately, itâ€™s best to buy\n              instantly at the listed price. For all secondary sales there are allocations from the\n              sale price of 3% to the DIGITALAX Treasury, 3% to DIGITALAX Token Stakers & 10% to the\n              Original Designer.\n            </p>\n            <div className={styles.inputWrapper}>\n              <input\n                value={mona}\n                type=\"number\"\n                onChange={(e) => {\n                  setMona(e.target.value);\n                }}\n              />\n              <span> $MONA </span>\n            </div>\n            <button className={styles.button} onClick={handleMakeOffer}>\n              MAKE OFFER\n            </button>\n          </div>\n        </Modal>,\n        document.body,\n      )}\n    </>\n  );\n};\n\nexport default MakeOffer;\n"]},"metadata":{},"sourceType":"module"}