{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"/Volumes/Data/Work/Digitalax/f3m-marketplace/src/pages/marketplace/index.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect, useState } from \"react\";\nimport { getCollectionGroups, getDigitalaxGarmentCollections } from \"@services/api/apiService\";\nimport styles from \"./styles.module.scss\";\nimport { useSelector } from \"react-redux\";\nimport PixelLoader from \"@components/pixel-loader\";\nimport { getChainId } from \"@selectors/global.selectors\";\nimport CollectionList from \"@components/collection-list\";\nimport HeroSection from \"@components/hero-section\";\n\nconst LandingPage = () => {\n  _s();\n\n  const {\n    0: filter,\n    1: setFilter\n  } = useState(null);\n  const chainId = useSelector(getChainId);\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(true);\n  const {\n    0: collectionGroups,\n    1: setCollectionGroups\n  } = useState([]);\n  useEffect(() => {\n    const fetchCollectionGroups = async () => {\n      setLoading(true);\n      const {\n        digitalaxModelCollectionGroups\n      } = await getCollectionGroups(chainId);\n      const collections = [];\n      const sortedCollectionGroups = digitalaxModelCollectionGroups.sort((a, b) => {\n        if (parseInt(a.id) > parseInt(b.id)) return -1;\n        if (parseInt(a.id) === parseInt(b.id)) return 0;\n        return 1;\n      });\n      sortedCollectionGroups.forEach(digitalaxCollectionGroup => {\n        var _digitalaxCollectionG;\n\n        const collectionPrice = digitalaxCollectionGroup.collections.reduce((a, b) => a + Number(b.valueSold), 0);\n\n        if ((_digitalaxCollectionG = digitalaxCollectionGroup.collections) !== null && _digitalaxCollectionG !== void 0 && _digitalaxCollectionG.length) {\n          collections.push(_objectSpread(_objectSpread({}, digitalaxCollectionGroup.collections[0].garments[0]), {}, {\n            designer: digitalaxCollectionGroup.collections[0].designer,\n            model: digitalaxCollectionGroup.collections[0].model,\n            id: digitalaxCollectionGroup.id,\n            sold: collectionPrice / 1e18,\n            isAuction: false\n          }));\n        }\n      });\n      setCollectionGroups([...collections].sort((a, b) => {\n        if (parseInt(a.id) > parseInt(b.id)) return -1;\n        if (parseInt(a.id) < parseInt(b.id)) return 1;\n        return 0;\n      }));\n      setLoading(false);\n    };\n\n    fetchCollectionGroups();\n  }, []);\n\n  if (loading) {\n    return __jsx(\"div\", {\n      className: styles.wrapper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 7\n      }\n    }, __jsx(\"div\", {\n      className: styles.loadingWrapper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }\n    }, __jsx(PixelLoader, {\n      title: \"loading...\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }\n    })));\n  }\n\n  return __jsx(\"div\", {\n    className: styles.wrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 5\n    }\n  }, __jsx(HeroSection, {\n    filter: true,\n    setFilter: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }), __jsx(\"section\", {\n    className: styles.collectionSection,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: styles.collectionWrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }, !!(collectionGroups !== null && collectionGroups !== void 0 && collectionGroups.length) && __jsx(CollectionList, {\n    items: collectionGroups,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }\n  }))));\n};\n\n_s(LandingPage, \"I16y4iQH1RqdhFYm3EMHCEjyqqA=\", false, function () {\n  return [useSelector];\n});\n\n_c = LandingPage;\nexport default LandingPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"LandingPage\");","map":{"version":3,"sources":["/Volumes/Data/Work/Digitalax/f3m-marketplace/src/pages/marketplace/index.js"],"names":["React","useEffect","useState","getCollectionGroups","getDigitalaxGarmentCollections","styles","useSelector","PixelLoader","getChainId","CollectionList","HeroSection","LandingPage","filter","setFilter","chainId","loading","setLoading","collectionGroups","setCollectionGroups","fetchCollectionGroups","digitalaxModelCollectionGroups","collections","sortedCollectionGroups","sort","a","b","parseInt","id","forEach","digitalaxCollectionGroup","collectionPrice","reduce","Number","valueSold","length","push","garments","designer","model","sold","isAuction","wrapper","loadingWrapper","collectionSection","collectionWrapper"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport {\n  getCollectionGroups,\n  getDigitalaxGarmentCollections,\n} from \"@services/api/apiService\";\nimport styles from \"./styles.module.scss\";\nimport { useSelector } from \"react-redux\";\nimport PixelLoader from \"@components/pixel-loader\";\nimport { getChainId } from \"@selectors/global.selectors\";\nimport CollectionList from \"@components/collection-list\";\nimport HeroSection from \"@components/hero-section\";\n\nconst LandingPage = () => {\n  const [filter, setFilter] = useState(null)\n  const chainId = useSelector(getChainId);\n  const [loading, setLoading] = useState(true);\n  const [collectionGroups, setCollectionGroups] = useState([]);\n\n  useEffect(() => {\n    const fetchCollectionGroups = async () => {\n      setLoading(true);\n      const { digitalaxModelCollectionGroups } = await getCollectionGroups(\n        chainId\n      );\n\n      const collections = [];\n\n      const sortedCollectionGroups = digitalaxModelCollectionGroups.sort(\n        (a, b) => {\n          if (parseInt(a.id) > parseInt(b.id)) return -1;\n          if (parseInt(a.id) === parseInt(b.id)) return 0;\n          return 1;\n        }\n      );\n\n      sortedCollectionGroups.forEach((digitalaxCollectionGroup) => {\n        const collectionPrice = digitalaxCollectionGroup.collections.reduce(\n          (a, b) => a + Number(b.valueSold),\n          0\n        );\n        if (digitalaxCollectionGroup.collections?.length) {\n          collections.push({\n            ...digitalaxCollectionGroup.collections[0].garments[0],\n            designer: digitalaxCollectionGroup.collections[0].designer,\n            model: digitalaxCollectionGroup.collections[0].model,\n            id: digitalaxCollectionGroup.id,\n            sold: collectionPrice / 1e18,\n            isAuction: false,\n          });\n        }\n      });\n\n      setCollectionGroups(\n        [...collections].sort((a, b) => {\n          if (parseInt(a.id) > parseInt(b.id)) return -1;\n          if (parseInt(a.id) < parseInt(b.id)) return 1;\n          return 0;\n        })\n      );\n      setLoading(false);\n    };\n\n    fetchCollectionGroups();\n  }, []);\n\n  if (loading) {\n    return (\n      <div className={styles.wrapper}>\n        <div className={styles.loadingWrapper}>\n          <PixelLoader title={\"loading...\"} />\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={styles.wrapper}>\n      <HeroSection\n        filter\n        setFilter\n      />\n\n      <section className={styles.collectionSection}>\n        <div className={styles.collectionWrapper}>\n          {!!collectionGroups?.length && (\n            <CollectionList items={collectionGroups} />\n          )}\n        </div>\n      </section>\n    </div>\n  );\n};\n\nexport default LandingPage;\n"]},"metadata":{},"sourceType":"module"}