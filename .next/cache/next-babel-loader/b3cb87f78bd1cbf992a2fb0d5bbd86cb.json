{"ast":null,"code":"export const reviseUrl = url => {\n  if (url !== null && url !== void 0 && url.includes(\"gateway.pinata\")) {\n    return url.replace(\"gateway.pinata\", \"digitalax.mypinata\");\n  }\n\n  return url;\n};\nexport const getRarityId = rarity => {\n  if (rarity === \"Exclusive\") {\n    return 1;\n  } else if (rarity === \"Semi-Rare\" || rarity === \"Semi Rare\") {\n    return 2;\n  } else {\n    return 3;\n  }\n};\nexport const getRarity = rarity => {\n  if (rarity === 1) {\n    return \"Exclusive\";\n  } else if (rarity === 2) {\n    return \"Semi Rare\";\n  } else {\n    return \"Common\";\n  }\n};\nexport const filterProducts = (prods, filter, sortBy) => {\n  let filteredProducts = [...prods];\n\n  if (filter.length) {\n    filteredProducts = prods.filter(prod => {\n      var _prod$designer, _prod$designer$name, _prod$model, _prod$model$name, _prod$garment, _prod$garment$name, _prod$name, _prod$owners;\n\n      return ((_prod$designer = prod.designer) === null || _prod$designer === void 0 ? void 0 : (_prod$designer$name = _prod$designer.name) === null || _prod$designer$name === void 0 ? void 0 : _prod$designer$name.toLowerCase().includes(filter.toLowerCase())) || ((_prod$model = prod.model) === null || _prod$model === void 0 ? void 0 : (_prod$model$name = _prod$model.name) === null || _prod$model$name === void 0 ? void 0 : _prod$model$name.toLowerCase().includes(filter.toLowerCase())) || ((_prod$garment = prod.garment) === null || _prod$garment === void 0 ? void 0 : (_prod$garment$name = _prod$garment.name) === null || _prod$garment$name === void 0 ? void 0 : _prod$garment$name.toLowerCase().includes(filter.toLowerCase())) || ((_prod$name = prod.name) === null || _prod$name === void 0 ? void 0 : _prod$name.toLowerCase().includes(filter.toLowerCase())) || ((_prod$owners = prod.owners) === null || _prod$owners === void 0 ? void 0 : _prod$owners.find(item => item.username && item.username.toLowerCase().includes(filter.toLowerCase())));\n    });\n  }\n\n  if (sortBy) {\n    switch (sortBy) {\n      case \"1\":\n        filteredProducts.sort((a, b) => {\n          if (parseInt(a.startTime) < parseInt(b.startTime)) return 1;\n          if (parseInt(a.startTime) > parseInt(b.startTime)) return -1;\n          return 0;\n        });\n        break;\n\n      case \"2\":\n        filteredProducts.sort((a, b) => {\n          const aPrice = a.primarySalePrice || a.topBid || a.lastSalePrice || 0;\n          const bPrice = b.primarySalePrice || b.topBid || b.lastSalePrice || 0;\n          if (BigInt(aPrice) < BigInt(bPrice)) return 1;\n          if (BigInt(aPrice) > BigInt(bPrice)) return -1;\n          return 0;\n        });\n        break;\n\n      case \"3\":\n        filteredProducts.sort((a, b) => {\n          const aPrice = a.primarySalePrice || a.topBid || a.lastSalePrice || 0;\n          const bPrice = b.primarySalePrice || b.topBid || b.lastSalePrice || 0;\n          if (BigInt(aPrice) > BigInt(bPrice)) return 1;\n          if (BigInt(aPrice) < BigInt(bPrice)) return -1;\n          return 0;\n        });\n        break;\n\n      case \"4\":\n        filteredProducts = filteredProducts.filter(prod => {\n          return prod.auction && parseInt(prod.endTime) < Date.now() / 1000 || prod.sold;\n        });\n        break;\n\n      case \"5\":\n        filteredProducts = filteredProducts.filter(prod => prod.auction);\n        break;\n\n      case \"6\":\n        filteredProducts = filteredProducts.filter(prod => !prod.auction);\n        break;\n\n      case \"7\":\n        filteredProducts = filteredProducts.filter(prod => prod.rarity === \"Exclusive\");\n        break;\n\n      case \"8\":\n        filteredProducts = filteredProducts.filter(prod => prod.rarity === \"Semi-Rare\");\n        break;\n\n      case \"9\":\n        filteredProducts = filteredProducts.filter(prod => prod.rarity === \"Common\");\n        break;\n    }\n  }\n\n  return filteredProducts;\n};\nexport const filterOrders = orders => {\n  return orders.filter(order => (order === null || order === void 0 ? void 0 : order.expiry) === \"0\" || parseInt(order === null || order === void 0 ? void 0 : order.expiry) >= Date.now() / 1000);\n};\nexport const generateLookImage = item => {\n  const {\n    id,\n    name,\n    background,\n    color,\n    texture,\n    pattern,\n    shape,\n    flare,\n    form,\n    line,\n    element\n  } = item;\n  const imageString = \"\\n    <svg xmlns=\\\"http://www.w3.org/2000/svg\\\" preserveAspectRatio=\\\"xMinYMin meet\\\" viewBox=\\\"0 0 350 350\\\"><style>@import url(\\\"https://fonts.googleapis.com/css?family=Inknut+Antiqua:400,100,100italic,300,300italic,400italic,500,500italic,700,700italic,900,900italic\\\"); .base { fill: white; font-family: Inknut Antiqua; font-size: 10.8px; font-weight:bold; }</style><rect width=\\\"100%\\\" height=\\\"100%\\\"\\n      fill=\\\"#\".concat(background, \"\\\" /><text x=\\\"245\\\" y=\\\"20\\\" class=\\\"base\\\"> LookBook #\").concat(id, \"</text>\\n      <text x=\\\"10\\\" y=\\\"60\\\" class=\\\"base\\\">\").concat(pattern, \"</text>\\n      <text x=\\\"10\\\" y=\\\"80\\\" class=\\\"base\\\">\").concat(texture, \"</text>\\n      <text x=\\\"10\\\" y=\\\"100\\\" class=\\\"base\\\">\").concat(color, \"</text>\\n      <text x=\\\"10\\\" y=\\\"120\\\" class=\\\"base\\\">\").concat(line, \"</text>\\n      <text x=\\\"10\\\" y=\\\"140\\\" class=\\\"base\\\">\").concat(flare, \"</text>\\n      <text x=\\\"10\\\" y=\\\"160\\\" class=\\\"base\\\">\").concat(shape, \"</text>\\n      <text x=\\\"10\\\" y=\\\"180\\\" class=\\\"base\\\">\").concat(form, \"</text>\\n      <text x=\\\"10\\\" y=\\\"200\\\" class=\\\"base\\\">\").concat(element, \"</text></svg>\");\n  return \"data:image/svg+xml;base64,\" + btoa(unescape(encodeURIComponent(imageString)));\n};","map":{"version":3,"sources":["/Volumes/Data/Work/Digitalax/f3m-marketplace/src/utils/helpers.js"],"names":["reviseUrl","url","includes","replace","getRarityId","rarity","getRarity","filterProducts","prods","filter","sortBy","filteredProducts","length","prod","designer","name","toLowerCase","model","garment","owners","find","item","username","sort","a","b","parseInt","startTime","aPrice","primarySalePrice","topBid","lastSalePrice","bPrice","BigInt","auction","endTime","Date","now","sold","filterOrders","orders","order","expiry","generateLookImage","id","background","color","texture","pattern","shape","flare","form","line","element","imageString","btoa","unescape","encodeURIComponent"],"mappings":"AAAA,OAAO,MAAMA,SAAS,GAAIC,GAAD,IAAS;AAChC,MAAIA,GAAJ,aAAIA,GAAJ,eAAIA,GAAG,CAAEC,QAAL,CAAc,gBAAd,CAAJ,EAAqC;AACnC,WAAOD,GAAG,CAACE,OAAJ,CAAY,gBAAZ,EAA8B,oBAA9B,CAAP;AACD;;AACD,SAAOF,GAAP;AACD,CALM;AAOP,OAAO,MAAMG,WAAW,GAAIC,MAAD,IAAY;AACrC,MAAIA,MAAM,KAAK,WAAf,EAA4B;AAC1B,WAAO,CAAP;AACD,GAFD,MAEO,IAAIA,MAAM,KAAK,WAAX,IAA0BA,MAAM,KAAK,WAAzC,EAAsD;AAC3D,WAAO,CAAP;AACD,GAFM,MAEA;AACL,WAAO,CAAP;AACD;AACF,CARM;AAUP,OAAO,MAAMC,SAAS,GAAID,MAAD,IAAY;AACnC,MAAIA,MAAM,KAAK,CAAf,EAAkB;AAChB,WAAO,WAAP;AACD,GAFD,MAEO,IAAIA,MAAM,KAAK,CAAf,EAAkB;AACvB,WAAO,WAAP;AACD,GAFM,MAEA;AACL,WAAO,QAAP;AACD;AACF,CARM;AAUP,OAAO,MAAME,cAAc,GAAG,CAACC,KAAD,EAAQC,MAAR,EAAgBC,MAAhB,KAA2B;AACvD,MAAIC,gBAAgB,GAAG,CAAC,GAAGH,KAAJ,CAAvB;;AACA,MAAIC,MAAM,CAACG,MAAX,EAAmB;AACjBD,IAAAA,gBAAgB,GAAGH,KAAK,CAACC,MAAN,CAChBI,IAAD;AAAA;;AAAA,aACE,mBAAAA,IAAI,CAACC,QAAL,yFAAeC,IAAf,4EAAqBC,WAArB,GAAmCd,QAAnC,CAA4CO,MAAM,CAACO,WAAP,EAA5C,sBACAH,IAAI,CAACI,KADL,oEACA,YAAYF,IADZ,qDACA,iBAAkBC,WAAlB,GAAgCd,QAAhC,CAAyCO,MAAM,CAACO,WAAP,EAAzC,CADA,uBAEAH,IAAI,CAACK,OAFL,wEAEA,cAAcH,IAFd,uDAEA,mBAAoBC,WAApB,GAAkCd,QAAlC,CAA2CO,MAAM,CAACO,WAAP,EAA3C,CAFA,oBAGAH,IAAI,CAACE,IAHL,+CAGA,WAAWC,WAAX,GAAyBd,QAAzB,CAAkCO,MAAM,CAACO,WAAP,EAAlC,CAHA,sBAIAH,IAAI,CAACM,MAJL,iDAIA,aAAaC,IAAb,CACGC,IAAD,IACEA,IAAI,CAACC,QAAL,IACAD,IAAI,CAACC,QAAL,CAAcN,WAAd,GAA4Bd,QAA5B,CAAqCO,MAAM,CAACO,WAAP,EAArC,CAHJ,CAJA,CADF;AAAA,KADiB,CAAnB;AAYD;;AACD,MAAIN,MAAJ,EAAY;AACV,YAAQA,MAAR;AACE,WAAK,GAAL;AACEC,QAAAA,gBAAgB,CAACY,IAAjB,CAAsB,CAACC,CAAD,EAAIC,CAAJ,KAAU;AAC9B,cAAIC,QAAQ,CAACF,CAAC,CAACG,SAAH,CAAR,GAAwBD,QAAQ,CAACD,CAAC,CAACE,SAAH,CAApC,EAAmD,OAAO,CAAP;AACnD,cAAID,QAAQ,CAACF,CAAC,CAACG,SAAH,CAAR,GAAwBD,QAAQ,CAACD,CAAC,CAACE,SAAH,CAApC,EAAmD,OAAO,CAAC,CAAR;AACnD,iBAAO,CAAP;AACD,SAJD;AAKA;;AACF,WAAK,GAAL;AACEhB,QAAAA,gBAAgB,CAACY,IAAjB,CAAsB,CAACC,CAAD,EAAIC,CAAJ,KAAU;AAC9B,gBAAMG,MAAM,GAAGJ,CAAC,CAACK,gBAAF,IAAsBL,CAAC,CAACM,MAAxB,IAAkCN,CAAC,CAACO,aAApC,IAAqD,CAApE;AACA,gBAAMC,MAAM,GAAGP,CAAC,CAACI,gBAAF,IAAsBJ,CAAC,CAACK,MAAxB,IAAkCL,CAAC,CAACM,aAApC,IAAqD,CAApE;AACA,cAAIE,MAAM,CAACL,MAAD,CAAN,GAAiBK,MAAM,CAACD,MAAD,CAA3B,EAAqC,OAAO,CAAP;AACrC,cAAIC,MAAM,CAACL,MAAD,CAAN,GAAiBK,MAAM,CAACD,MAAD,CAA3B,EAAqC,OAAO,CAAC,CAAR;AACrC,iBAAO,CAAP;AACD,SAND;AAOA;;AACF,WAAK,GAAL;AACErB,QAAAA,gBAAgB,CAACY,IAAjB,CAAsB,CAACC,CAAD,EAAIC,CAAJ,KAAU;AAC9B,gBAAMG,MAAM,GAAGJ,CAAC,CAACK,gBAAF,IAAsBL,CAAC,CAACM,MAAxB,IAAkCN,CAAC,CAACO,aAApC,IAAqD,CAApE;AACA,gBAAMC,MAAM,GAAGP,CAAC,CAACI,gBAAF,IAAsBJ,CAAC,CAACK,MAAxB,IAAkCL,CAAC,CAACM,aAApC,IAAqD,CAApE;AACA,cAAIE,MAAM,CAACL,MAAD,CAAN,GAAiBK,MAAM,CAACD,MAAD,CAA3B,EAAqC,OAAO,CAAP;AACrC,cAAIC,MAAM,CAACL,MAAD,CAAN,GAAiBK,MAAM,CAACD,MAAD,CAA3B,EAAqC,OAAO,CAAC,CAAR;AACrC,iBAAO,CAAP;AACD,SAND;AAOA;;AACF,WAAK,GAAL;AACErB,QAAAA,gBAAgB,GAAGA,gBAAgB,CAACF,MAAjB,CAAyBI,IAAD,IAAU;AACnD,iBACGA,IAAI,CAACqB,OAAL,IAAgBR,QAAQ,CAACb,IAAI,CAACsB,OAAN,CAAR,GAAyBC,IAAI,CAACC,GAAL,KAAa,IAAvD,IACAxB,IAAI,CAACyB,IAFP;AAID,SALkB,CAAnB;AAMA;;AACF,WAAK,GAAL;AACE3B,QAAAA,gBAAgB,GAAGA,gBAAgB,CAACF,MAAjB,CAAyBI,IAAD,IAAUA,IAAI,CAACqB,OAAvC,CAAnB;AACA;;AACF,WAAK,GAAL;AACEvB,QAAAA,gBAAgB,GAAGA,gBAAgB,CAACF,MAAjB,CAAyBI,IAAD,IAAU,CAACA,IAAI,CAACqB,OAAxC,CAAnB;AACA;;AACF,WAAK,GAAL;AACEvB,QAAAA,gBAAgB,GAAGA,gBAAgB,CAACF,MAAjB,CAChBI,IAAD,IAAUA,IAAI,CAACR,MAAL,KAAgB,WADT,CAAnB;AAGA;;AACF,WAAK,GAAL;AACEM,QAAAA,gBAAgB,GAAGA,gBAAgB,CAACF,MAAjB,CAChBI,IAAD,IAAUA,IAAI,CAACR,MAAL,KAAgB,WADT,CAAnB;AAGA;;AACF,WAAK,GAAL;AACEM,QAAAA,gBAAgB,GAAGA,gBAAgB,CAACF,MAAjB,CAChBI,IAAD,IAAUA,IAAI,CAACR,MAAL,KAAgB,QADT,CAAnB;AAGA;AAtDJ;AAwDD;;AACD,SAAOM,gBAAP;AACD,CA3EM;AA6EP,OAAO,MAAM4B,YAAY,GAAIC,MAAD,IAAY;AACtC,SAAOA,MAAM,CAAC/B,MAAP,CACJgC,KAAD,IACE,CAAAA,KAAK,SAAL,IAAAA,KAAK,WAAL,YAAAA,KAAK,CAAEC,MAAP,MAAkB,GAAlB,IAAyBhB,QAAQ,CAACe,KAAD,aAACA,KAAD,uBAACA,KAAK,CAAEC,MAAR,CAAR,IAA2BN,IAAI,CAACC,GAAL,KAAa,IAF9D,CAAP;AAID,CALM;AAOP,OAAO,MAAMM,iBAAiB,GAAItB,IAAD,IAAU;AACzC,QAAM;AACJuB,IAAAA,EADI;AAEJ7B,IAAAA,IAFI;AAGJ8B,IAAAA,UAHI;AAIJC,IAAAA,KAJI;AAKJC,IAAAA,OALI;AAMJC,IAAAA,OANI;AAOJC,IAAAA,KAPI;AAQJC,IAAAA,KARI;AASJC,IAAAA,IATI;AAUJC,IAAAA,IAVI;AAWJC,IAAAA;AAXI,MAYFhC,IAZJ;AAcA,QAAMiC,WAAW,mbAEJT,UAFI,qEAE0DD,EAF1D,mEAGsBI,OAHtB,mEAIsBD,OAJtB,oEAKuBD,KALvB,oEAMuBM,IANvB,oEAOuBF,KAPvB,oEAQuBD,KARvB,oEASuBE,IATvB,oEAUuBE,OAVvB,kBAAjB;AAYA,SACE,+BACAE,IAAI,CAACC,QAAQ,CAACC,kBAAkB,CAACH,WAAD,CAAnB,CAAT,CAFN;AAID,CA/BM","sourcesContent":["export const reviseUrl = (url) => {\n  if (url?.includes(\"gateway.pinata\")) {\n    return url.replace(\"gateway.pinata\", \"digitalax.mypinata\");\n  }\n  return url;\n};\n\nexport const getRarityId = (rarity) => {\n  if (rarity === \"Exclusive\") {\n    return 1;\n  } else if (rarity === \"Semi-Rare\" || rarity === \"Semi Rare\") {\n    return 2;\n  } else {\n    return 3;\n  }\n};\n\nexport const getRarity = (rarity) => {\n  if (rarity === 1) {\n    return \"Exclusive\";\n  } else if (rarity === 2) {\n    return \"Semi Rare\";\n  } else {\n    return \"Common\";\n  }\n};\n\nexport const filterProducts = (prods, filter, sortBy) => {\n  let filteredProducts = [...prods];\n  if (filter.length) {\n    filteredProducts = prods.filter(\n      (prod) =>\n        prod.designer?.name?.toLowerCase().includes(filter.toLowerCase()) ||\n        prod.model?.name?.toLowerCase().includes(filter.toLowerCase()) ||\n        prod.garment?.name?.toLowerCase().includes(filter.toLowerCase()) ||\n        prod.name?.toLowerCase().includes(filter.toLowerCase()) ||\n        prod.owners?.find(\n          (item) =>\n            item.username &&\n            item.username.toLowerCase().includes(filter.toLowerCase())\n        )\n    );\n  }\n  if (sortBy) {\n    switch (sortBy) {\n      case \"1\":\n        filteredProducts.sort((a, b) => {\n          if (parseInt(a.startTime) < parseInt(b.startTime)) return 1;\n          if (parseInt(a.startTime) > parseInt(b.startTime)) return -1;\n          return 0;\n        });\n        break;\n      case \"2\":\n        filteredProducts.sort((a, b) => {\n          const aPrice = a.primarySalePrice || a.topBid || a.lastSalePrice || 0;\n          const bPrice = b.primarySalePrice || b.topBid || b.lastSalePrice || 0;\n          if (BigInt(aPrice) < BigInt(bPrice)) return 1;\n          if (BigInt(aPrice) > BigInt(bPrice)) return -1;\n          return 0;\n        });\n        break;\n      case \"3\":\n        filteredProducts.sort((a, b) => {\n          const aPrice = a.primarySalePrice || a.topBid || a.lastSalePrice || 0;\n          const bPrice = b.primarySalePrice || b.topBid || b.lastSalePrice || 0;\n          if (BigInt(aPrice) > BigInt(bPrice)) return 1;\n          if (BigInt(aPrice) < BigInt(bPrice)) return -1;\n          return 0;\n        });\n        break;\n      case \"4\":\n        filteredProducts = filteredProducts.filter((prod) => {\n          return (\n            (prod.auction && parseInt(prod.endTime) < Date.now() / 1000) ||\n            prod.sold\n          );\n        });\n        break;\n      case \"5\":\n        filteredProducts = filteredProducts.filter((prod) => prod.auction);\n        break;\n      case \"6\":\n        filteredProducts = filteredProducts.filter((prod) => !prod.auction);\n        break;\n      case \"7\":\n        filteredProducts = filteredProducts.filter(\n          (prod) => prod.rarity === \"Exclusive\"\n        );\n        break;\n      case \"8\":\n        filteredProducts = filteredProducts.filter(\n          (prod) => prod.rarity === \"Semi-Rare\"\n        );\n        break;\n      case \"9\":\n        filteredProducts = filteredProducts.filter(\n          (prod) => prod.rarity === \"Common\"\n        );\n        break;\n    }\n  }\n  return filteredProducts;\n};\n\nexport const filterOrders = (orders) => {\n  return orders.filter(\n    (order) =>\n      order?.expiry === \"0\" || parseInt(order?.expiry) >= Date.now() / 1000\n  );\n};\n\nexport const generateLookImage = (item) => {\n  const {\n    id,\n    name,\n    background,\n    color,\n    texture,\n    pattern,\n    shape,\n    flare,\n    form,\n    line,\n    element,\n  } = item;\n\n  const imageString = `\n    <svg xmlns=\"http://www.w3.org/2000/svg\" preserveAspectRatio=\"xMinYMin meet\" viewBox=\"0 0 350 350\"><style>@import url(\"https://fonts.googleapis.com/css?family=Inknut+Antiqua:400,100,100italic,300,300italic,400italic,500,500italic,700,700italic,900,900italic\"); .base { fill: white; font-family: Inknut Antiqua; font-size: 10.8px; font-weight:bold; }</style><rect width=\"100%\" height=\"100%\"\n      fill=\"#${background}\" /><text x=\"245\" y=\"20\" class=\"base\"> LookBook #${id}</text>\n      <text x=\"10\" y=\"60\" class=\"base\">${pattern}</text>\n      <text x=\"10\" y=\"80\" class=\"base\">${texture}</text>\n      <text x=\"10\" y=\"100\" class=\"base\">${color}</text>\n      <text x=\"10\" y=\"120\" class=\"base\">${line}</text>\n      <text x=\"10\" y=\"140\" class=\"base\">${flare}</text>\n      <text x=\"10\" y=\"160\" class=\"base\">${shape}</text>\n      <text x=\"10\" y=\"180\" class=\"base\">${form}</text>\n      <text x=\"10\" y=\"200\" class=\"base\">${element}</text></svg>`;\n\n  return (\n    \"data:image/svg+xml;base64,\" +\n    btoa(unescape(encodeURIComponent(imageString)))\n  );\n};\n"]},"metadata":{},"sourceType":"module"}